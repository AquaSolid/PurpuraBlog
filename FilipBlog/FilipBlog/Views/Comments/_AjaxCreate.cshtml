@using Microsoft.AspNet.Identity
@model FilipBlog.Models.Comment

@using (Ajax.BeginForm("CommentsApi", "api", new AjaxOptions
{
	UpdateTargetId = "newComments",
	InsertionMode = InsertionMode.InsertAfter,
	HttpMethod = "POST"
}))
{
	@Html.AntiForgeryToken()

	<div class="form-horizontal">
		<h4>Comment</h4>
		<hr />
		@Html.ValidationSummary(true, "", new { @class = "text-danger" })
		<div class="form-group">
			@Html.LabelFor(model => model.Content, htmlAttributes: new { @class = "control-label col-md-2" })
			<div class="col-md-10">
				@Html.EditorFor(model => model.Content, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.Content, "", new { @class = "text-danger" })
			</div>
		</div>
		@Html.HiddenFor(model => model.CommenterRefId, new { Value = User.Identity.GetUserId() })
		@Html.HiddenFor(model => model.DateOfCreation, new { Value = DateTime.Now })
		@Html.HiddenFor(model => model.DateOfModification, new { Value = DateTime.Now })
		@*<div class="form-group">
				@Html.LabelFor(model => model.Post_PostId, "Post_PostId", htmlAttributes: new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.DropDownList("Post_PostId", null, htmlAttributes: new { @class = "form-control" })
					@Html.ValidationMessageFor(model => model.Post_PostId, "", new { @class = "text-danger" })
				</div>
			</div>*@

		@Html.HiddenFor(model => model.Post_PostId)
		<div class="form-group">
			<div class="col-md-offset-2 col-md-10">
				<input type="submit" value="Create" class="btn btn-default" />
			</div>
		</div>
	</div>
}



@section scripts {
	@Scripts.Render("~/Scripts/jquery.unobtrusive-ajax.min.js")
}